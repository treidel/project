#ifndef _CONFIG_H_
#define _CONFIG_H_

///////////////////////////////////////////////////////////////////////////////
// includes
///////////////////////////////////////////////////////////////////////////////

#include "common.h"

///////////////////////////////////////////////////////////////////////////////
// macros 
///////////////////////////////////////////////////////////////////////////////


///////////////////////////////////////////////////////////////////////////////
// forward declarations
///////////////////////////////////////////////////////////////////////////////

struct collection_item;

///////////////////////////////////////////////////////////////////////////////
// class declaration
///////////////////////////////////////////////////////////////////////////////

class Config
{


///////////////////////////////////////////////////////////////////////////////
// type definitions
///////////////////////////////////////////////////////////////////////////////

///////////////////////////////////////////////////////////////////////////////
// public function declarations 
///////////////////////////////////////////////////////////////////////////////

public:

    static ResultCode init(const char *configpath_p);
    static const Config *get_instance_p();

    ResultCode get_float(const char *section_p, const char *item_p, float *value_p) const;
    ResultCode get_float_with_default(const char *section_p, const char *item_p, float default_value, float *value_p) const;
    ResultCode get_string(const char *section_p, const char *item_p, const char **value_pp) const;
    ResultCode get_string_with_default(const char *section_p, const char *item_p, const char *default_value_p, const char **value_pp) const;

///////////////////////////////////////////////////////////////////////////////
// protected function declarations 
///////////////////////////////////////////////////////////////////////////////

protected:

///////////////////////////////////////////////////////////////////////////////
// private function declarations 
///////////////////////////////////////////////////////////////////////////////

private:
    Config(struct collection_item *collection_p);
    ~Config();

///////////////////////////////////////////////////////////////////////////////
//declarations 
///////////////////////////////////////////////////////////////////////////////

private:
    static Config *g_instance_p;

    struct collection_item *m_collection_p;

};

#endif

